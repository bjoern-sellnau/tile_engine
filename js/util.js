//function to detect canvas support by alterebro (http://code.google.com/p/browser-canvas-support/)var canvas_support = {	canvas_compatible : false,	check_canvas : function() {		try {			this.canvas_compatible = !!(document.createElement('canvas').getContext('2d')); // S60			} catch(e) {			this.canvas_compatible = !!(document.createElement('canvas').getContext); // IE		} 		return this.canvas_compatible;	}} var setBytes = function(num1,num2,num3) {	return (num1 << 18)| num2;//return (((num1 << 16) | (num2||0)) << 4) | (num3||0);};function getBytes(num) {	return [num & 0x3FFFF, (num >> 18) & 0x3FFFF];//return [num & 0xF, (num >> 4) & 0xFFFF, (num >> 20) & 0xFFFF];};var makeMapTilesArray = function(tiles_a, decor_a){	var tilesArray = new Array()	var i = tiles_a.length	while(i--){		tilesArray[i] = setBytes(tiles_a[i], decor_a[i]);	}	return tilesArray;}